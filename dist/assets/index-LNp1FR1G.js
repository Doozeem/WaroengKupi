(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();const G="modulepreload",Z=function(e){return"/"+e},W={},J=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){let u=function(m){return Promise.all(m.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};var c=u;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");s=u(r.map(m=>{if(m=Z(m),m in W)return;W[m]=!0;const d=m.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":G,d||(p.as="script"),p.crossOrigin="",p.href=m,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((S,y)=>{p.addEventListener("load",S),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};function Q(e={}){const{immediate:t=!1,onNeedRefresh:r,onOfflineReady:n,onRegistered:s,onRegisteredSW:o,onRegisterError:c}=e;let a,l;const u=async(d=!0)=>{await l};async function m(){if("serviceWorker"in navigator){if(a=await J(async()=>{const{Workbox:d}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:d}},[]).then(({Workbox:d})=>new d("/sw.js",{scope:"/",type:"classic"})).catch(d=>{c?.(d)}),!a)return;a.addEventListener("activated",d=>{(d.isUpdate||d.isExternal)&&window.location.reload()}),a.addEventListener("installed",d=>{d.isUpdate||n?.()}),a.register({immediate:t}).then(d=>{o?o("/sw.js",d):s?.(d)}).catch(d=>{c?.(d)})}}return l=m(),u}const ee=Q({immediate:!0,onNeedRefresh(){ee(!0)}}),$={name:"DoozeCoofe"},x={whatsappNumber:"+62 851-3837-8876",navigationUrl:"https://www.google.com/maps/search/?api=1&query=DoozeCoofe+Banda+Aceh",mapsEmbedUrl:"https://www.google.com/maps?q=Banda+Aceh,+Aceh&output=embed",heroCoverUrl:"https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?auto=format&fit=crop&w=1920&q=70",heroLocalPhotoUrl:"https://images.unsplash.com/photo-1554118811-1e0d58224f24?auto=format&fit=crop&w=1200&q=70"},A={googleRating:"4.8",googleReviews:"382",repeatRate:"68%",monthlyCups:"1.200+"},te={0:[480,1440],1:[480,1380],2:[480,1380],3:[480,1380],4:[480,1380],5:[840,1410],6:[480,1440]},re=`Halo ${$.name}, saya mau pesan dari meja. Mohon rekomendasi menu terbaik hari ini.`,i=(e,t=document)=>t.querySelector(e),h=(e,t=document)=>Array.from(t.querySelectorAll(e)),O=window.matchMedia("(prefers-reduced-motion: reduce)"),ne=window.matchMedia("(hover: hover) and (pointer: fine)"),g=new Map,H=[];let C="idle",v=!1,j=new Set,V=!1;const se=e=>e.replace(/\D/g,""),R=e=>{const t=se(x.whatsappNumber),r=new URL(`https://wa.me/${t}`);return r.searchParams.set("text",e),r.toString()},ae=(e,t)=>{h(e).forEach(r=>{r.href=t})},N=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(e||0),oe=e=>{if(!e)return"-";const t=8+Math.max(0,e-1)*2,r=t+7;return`${t}-${r} menit`},ie=e=>new Intl.DateTimeFormat("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Asia/Jakarta"}).format(e),ce=(e=new Date)=>{const t=String(e.getFullYear()).slice(-2),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=Math.random().toString(36).slice(2,6).toUpperCase();return`DZC-${t}${r}${n}-${s}`},le=()=>"dinein",q=e=>String(e||"").toUpperCase().replace(/[^A-Z0-9-]/g,"").slice(0,12),k=(e,t="error")=>{const r=i("#orderModeStatus");if(r){if(!e){r.classList.add("hidden"),r.textContent="",r.classList.remove("text-emerald-700"),r.classList.add("text-rose-700");return}r.textContent=e,r.classList.remove("hidden"),r.classList.toggle("text-rose-700",t!=="success"),r.classList.toggle("text-emerald-700",t==="success")}},K=()=>{const e=i("#orderTableNumber"),t=i("#orderCustomerName"),r=q(e?.value||""),n=String(t?.value||"").replace(/\s+/g," ").trim().slice(0,40);return e&&(e.value=r),t&&(t.value=n),{tableInput:e,customerInput:t,tableNumber:r,customerName:n,missingTable:!r,missingName:!n}},Y=()=>{const e=K();if(e.missingTable&&e.tableInput){e.tableInput.focus();return}e.missingName&&e.customerInput&&e.customerInput.focus()},U=()=>{const e=le(),t=K();return t.missingTable&&t.missingName?{isValid:!1,error:"Nomor meja dan nama pemesan wajib diisi untuk melanjutkan pesanan."}:t.missingTable?{isValid:!1,error:"Nomor meja wajib diisi untuk pesanan dari meja."}:t.missingName?{isValid:!1,error:"Nama pemesan wajib diisi untuk kirim pesanan."}:{isValid:!0,mode:e,tableNumber:t.tableNumber,customerName:t.customerName}},de=()=>{const e=i("#orderTableNumber"),t=i("#orderCustomerName");e&&(e.disabled=!1,e.required=!0,e.classList.remove("opacity-60"),t&&(t.disabled=!1,t.required=!0,t.classList.remove("opacity-60")),P())},me=()=>{const e=i("#orderTableNumber"),t=i("#orderCustomerName");if(!e)return;e.addEventListener("input",()=>{e.value=q(e.value),P()});const r=new URLSearchParams(window.location.search),n=r.get("meja")||r.get("table")||r.get("nomormeja");n&&(e.value=q(n)),t&&t.addEventListener("input",()=>{P()}),de()},ue=(e=new Date)=>{const t=te[e.getDay()];if(!t)return!1;const[r,n]=t,s=e.getHours()*60+e.getMinutes();return s>=r&&s<n},pe=()=>{const e=ue();h("[data-open-status]").forEach(t=>{t.textContent=e?"Open Now":"Closed";const r=t.closest(".status-open");if(r){r.classList.toggle("is-closed",!e);return}t.classList.toggle("text-emerald-700",e),t.classList.toggle("text-rose-700",!e)})},fe=()=>{[["[data-proof-rating]",A.googleRating],["[data-proof-reviews]",A.googleReviews],["[data-proof-repeat]",A.repeatRate],["[data-proof-cups]",A.monthlyCups]].forEach(([t,r])=>{h(t).forEach(n=>{r&&(n.textContent=r)})})},ge=()=>{const e=i(".hero-bg");e&&x.heroCoverUrl&&e.style.setProperty("--hero-cover-image",`url("${x.heroCoverUrl}")`);const t=i("#heroLocalPhoto");t&&(t.src=x.heroLocalPhotoUrl)},he=()=>{h("[data-order-btn]").forEach(t=>{t.href="#menu",t.removeAttribute("target"),t.removeAttribute("rel")}),ae("[data-map-btn]",x.navigationUrl);const e=i("#mapEmbed");e&&(e.src=x.mapsEmbedUrl)},z=e=>{const t=e.dataset.originalLabel||e.textContent.trim();return e.dataset.originalLabel=t,t},ye=e=>{const t=i("#menuLayoutGrid");t&&t.classList.toggle("is-cart-active",e);const r=i("#cartPrompt");r&&r.classList.toggle("hidden",e)},D=({shouldScroll:e=!1}={})=>{const t=i("#orderCartPanel");if(t){if(t.classList.remove("is-cart-reveal"),t.offsetWidth,t.classList.add("is-cart-reveal"),e){const r=O.matches?"auto":"smooth";window.setTimeout(()=>{t.scrollIntoView({behavior:r,block:"start"})},80)}window.setTimeout(()=>{t.classList.remove("is-cart-reveal")},720)}},M=(e,t)=>{const r=i(`[data-flow-step="${e}"]`);r&&(r.dataset.stepState=t)},P=()=>{if(!i("#orderFlowSteps"))return;const e=g.size>0,t=U(),r=e&&!!t.isValid,n=e?"done":"active",s=e?r?"done":"active":"pending",o=v?"done":r?"active":"pending";M("menu",n),M("table",s),M("send",o);const c=v?3:r?2:e?1:0,a=Math.round(c/3*100),l=i("#orderFlowRatio");l&&(l.textContent=`${c}/3`);const u=i("#orderFlowPercent");u&&(u.textContent=`${a}%`);const m=i("#orderFlowBar");m&&(m.style.width=`${a}%`)},Ce=(e,t)=>{if(!e)return;const r=z(e);if(e.classList.remove("is-processing","is-sent"),!t){e.textContent=r,e.disabled=!0,e.classList.add("opacity-60","cursor-not-allowed");return}if(C==="processing"){e.textContent="Memproses...",e.disabled=!0,e.classList.add("is-processing","opacity-60","cursor-not-allowed");return}if(C==="sent"){e.textContent="Terkirim ✓",e.disabled=!0,e.classList.add("is-sent","opacity-60","cursor-not-allowed");return}e.textContent=r,e.disabled=!1,e.classList.remove("opacity-60","cursor-not-allowed")},B=e=>{C=e,E(),e==="sent"&&window.setTimeout(()=>{C==="sent"&&(C="idle",E())},1200)},be=e=>{if(e.dataset.feedbackLock==="1")return;const t=z(e);e.dataset.feedbackLock="1",e.classList.add("is-processing"),e.textContent="Memproses...",window.setTimeout(()=>{e.classList.remove("is-processing"),e.classList.add("is-added"),e.textContent="Ditambahkan ✓",window.setTimeout(()=>{e.textContent=t,e.classList.remove("is-added"),delete e.dataset.feedbackLock},650)},170)},X=()=>{const e=[];let t=0,r=0;return g.forEach((n,s)=>{t+=n.qty,r+=n.qty*n.price,e.push({itemName:s,qty:n.qty,unitPrice:n.price,subtotal:n.qty*n.price})}),{lines:e,totalItems:t,totalPrice:r}},we=(e,t,r=new Set)=>{e&&(e.innerHTML="",t.forEach((n,s)=>{const o=document.createElement("li");o.className="order-cart-line";const c=`${n.itemName}|${n.qty}`;r.has(c)||o.classList.add("is-entering");const a=document.createElement("div");a.className="order-cart-line-main";const l=document.createElement("div");l.className="min-w-0";const u=document.createElement("p");u.className="order-cart-title text-xs font-semibold text-mocha-700";const m=document.createElement("span");m.className="order-cart-index",m.textContent=String(s+1);const d=document.createElement("span");d.className="order-cart-name",d.textContent=n.itemName,u.appendChild(m),u.appendChild(d);const f=document.createElement("p");f.className="order-cart-meta",f.textContent=`${n.qty} x ${N(n.unitPrice)}`;const p=document.createElement("span");p.className="order-cart-subtotal text-xs font-extrabold text-mocha-900",p.textContent=N(n.subtotal);const S=document.createElement("div");S.className="order-cart-line-actions";const y=document.createElement("div");y.className="order-qty-control",y.setAttribute("role","group"),y.setAttribute("aria-label",`Ubah jumlah ${n.itemName}`);const b=document.createElement("button");b.type="button",b.className="btn-focus order-qty-btn",b.dataset.cartAction="decrease",b.dataset.cartItem=n.itemName,b.setAttribute("aria-label",`Kurangi ${n.itemName}`),b.textContent="−";const I=document.createElement("span");I.className="order-qty-value",I.textContent=String(n.qty);const w=document.createElement("button");w.type="button",w.className="btn-focus order-qty-btn",w.dataset.cartAction="increase",w.dataset.cartItem=n.itemName,w.setAttribute("aria-label",`Tambah ${n.itemName}`),w.textContent="+";const L=document.createElement("button");L.type="button",L.className="btn-focus order-remove-btn",L.dataset.cartAction="remove",L.dataset.cartItem=n.itemName,L.setAttribute("aria-label",`Hapus ${n.itemName}`),L.textContent="Hapus",l.appendChild(u),l.appendChild(f),a.appendChild(l),a.appendChild(p),y.appendChild(b),y.appendChild(I),y.appendChild(w),S.appendChild(y),S.appendChild(L),o.appendChild(a),o.appendChild(S),e.appendChild(o)}))},E=()=>{const{lines:e,totalItems:t,totalPrice:r}=X(),n=e.length>0,s=n&&!V,o=new Set(e.map(a=>`${a.itemName}|${a.qty}`)),c=oe(t);if(ye(n),H.forEach(a=>{a.count&&(a.count.textContent=String(t)),a.total&&(a.total.textContent=N(r)),a.list&&(we(a.list,e,j),a.list.classList.toggle("hidden",!n)),a.estimate&&(a.estimate.textContent=c),a.empty&&a.empty.classList.toggle("hidden",n),a.hideWhenEmpty&&a.wrapper&&a.wrapper.classList.toggle("hidden",!n),a.sendButton&&Ce(a.sendButton,n),a.clearButton&&(a.clearButton.disabled=!n,a.clearButton.classList.toggle("opacity-60",!n),a.clearButton.classList.toggle("cursor-not-allowed",!n))}),s){const a=window.matchMedia("(max-width: 1023px)").matches;D({shouldScroll:a})}V=n,j=o,P()},Le=(e,t)=>{const r=Number.isFinite(t)&&t>0?t:0,n=g.get(e)||{qty:0,price:r};n.qty+=1,!n.price&&r&&(n.price=r),v=!1,C="idle",g.set(e,n),E()},_=(e,t)=>{const r=g.get(e);if(!r||!Number.isFinite(t)||t===0)return;const n=r.qty+t;v=!1,C="idle",n<=0?g.delete(e):g.set(e,{...r,qty:n}),E()},ve=e=>{g.has(e)&&(v=!1,C="idle",g.delete(e),E())},Ee=e=>{const{lines:t,totalItems:r,totalPrice:n}=X();if(!t.length)return re;const s=new Date,o=ce(s),c=`${ie(s)} WIB`,a=`Dine-in (Meja ${e.tableNumber})`,l=`Nama Pemesan: ${e.customerName}
`,u=t.map((m,d)=>`${d+1}. ${m.itemName}
   ${m.qty} x ${N(m.unitPrice)} = ${N(m.subtotal)}`).join(`
`);return`Halo ${$.name}, berikut struk pesanan:

STRUK PESANAN ${$.name.toUpperCase()}
Kode Pesanan: ${o}
Waktu: ${c}
Jenis Pesanan: ${a}
${l}------------------------------
${u}
------------------------------
Total Item: ${r}
Total Bayar: ${N(n)}

Mohon diproses. Terima kasih.`},Se=()=>{if(!g.size)return;const e=U();if(!e.isValid){B("idle"),k(e.error),D({shouldScroll:!0}),Y(),P();return}B("processing");const t=Ee(e);k("Struk pesanan siap dikirim ke WhatsApp.","success"),window.open(R(t),"_blank","noopener,noreferrer"),v=!0,P(),window.setTimeout(()=>{B("sent")},220)},xe=()=>{g.clear(),v=!1,C="idle",k(""),E()},T=({wrapper:e,count:t,total:r,estimate:n,list:s,empty:o,sendButton:c,clearButton:a,hideWhenEmpty:l})=>{if(!e)return;const u={wrapper:e,count:t,total:r,estimate:n,list:s,empty:o,sendButton:c,clearButton:a,hideWhenEmpty:!!l};c&&c.addEventListener("click",Se),a&&a.addEventListener("click",xe),H.push(u)},Ne=()=>{T({wrapper:i("#orderCartPanel"),count:i("#orderCartCount"),total:i("#orderCartTotal"),estimate:i("#orderPrepEstimate"),list:i("#orderCartList"),empty:i("#orderCartEmpty"),sendButton:i("#orderCartSendBtn"),clearButton:i("#orderCartClearBtn"),hideWhenEmpty:!0}),T({wrapper:i("#miniCartBar"),count:i("#miniCartCount"),total:i("#miniCartTotal"),estimate:null,list:null,empty:null,sendButton:i("#sendCartBtn"),clearButton:i("#clearCartBtn"),hideWhenEmpty:!0}),T({wrapper:i("#deskCartBar"),count:i("#deskCartCount"),total:i("#deskCartTotal"),estimate:i("#deskCartEstimate"),list:null,empty:null,sendButton:i("#deskCartSendBtn"),clearButton:null,hideWhenEmpty:!0}),E()},Pe=()=>{const e=i("#orderCartList");e&&e.addEventListener("click",t=>{const r=t.target;if(!(r instanceof Element))return;const n=r.closest("[data-cart-action]");if(!n||!e.contains(n))return;const s=String(n.dataset.cartAction||""),o=String(n.dataset.cartItem||"").trim();if(o){if(s==="increase"){_(o,1);return}if(s==="decrease"){_(o,-1);return}s==="remove"&&ve(o)}})},$e=()=>{h("[data-menu-item]").forEach(e=>{const t=e.dataset.menuItem?.trim(),r=Number(e.dataset.menuPrice||0);if(!t)return;const n=`Halo ${$.name}, saya mau pesan ${t} 1 porsi. Mohon info total dan estimasi waktunya.`;e.href=R(n),e.addEventListener("click",s=>{s.preventDefault(),be(e),Le(t,r);const o=U();if(!o.isValid){k(o.error),D({shouldScroll:!0}),Y();return}k("")})})},ke=()=>{const e=i("[data-menu-filter-group]");if(!e)return;const t=h("[data-menu-filter]",e),r=h("[data-menu-category]"),n=i("#menuFilterEmpty");if(!t.length||!r.length)return;const s=o=>{let c=0;t.forEach(a=>{const l=a.dataset.menuFilter===o;a.classList.toggle("is-active",l),a.setAttribute("aria-pressed",String(l))}),r.forEach(a=>{const l=String(a.dataset.menuCategory||"").toLowerCase().split(/\s+/).filter(Boolean),u=o==="all"||l.includes(o);a.classList.toggle("is-filter-hidden",!u),u&&(c+=1)}),n&&n.classList.toggle("hidden",c>0)};t.forEach(o=>{o.setAttribute("aria-pressed","false"),o.addEventListener("click",()=>{s(String(o.dataset.menuFilter||"all"))})}),s("all")},F=(e,t)=>{const r=i("[data-accordion-trigger]",e),n=i("[data-accordion-panel]",e),s=i("[data-accordion-icon]",e);!r||!n||!s||(r.setAttribute("aria-expanded",String(t)),n.hidden=!t,s.textContent=t?"-":"+")},Ae=()=>{const e=i("[data-accordion]");if(!e)return;const t=h("[data-accordion-item]",e);t.forEach(r=>F(r,!1)),e.addEventListener("click",r=>{const n=r.target.closest("[data-accordion-trigger]");if(!n||!e.contains(n))return;const s=n.closest("[data-accordion-item]");if(!s)return;const o=n.getAttribute("aria-expanded")==="true";t.forEach(c=>F(c,!1)),o||F(s,!0)})},Ie=()=>{const e=i("#promoForm"),t=i("#promoStatus");!e||!t||e.addEventListener("submit",r=>{r.preventDefault();const n=new FormData(e),s=String(n.get("name")||"").trim(),o=String(n.get("phone")||"").trim();if(!s||!o){t.textContent="Nama dan nomor WhatsApp wajib diisi.",t.classList.remove("hidden");return}const c=`Halo ${$.name}, saya ingin klaim diskon 15% kunjungan pertama. Nama: ${s}. Nomor WhatsApp: ${o}.`;window.open(R(c),"_blank","noopener,noreferrer"),t.textContent="Data siap diproses dan terkirim ke WhatsApp pemilik.",t.classList.remove("hidden"),e.reset()})},Me=()=>{const e=h(".reveal-on-scroll");if(!e.length)return;if(O.matches||!("IntersectionObserver"in window)){e.forEach(r=>r.classList.add("is-visible"));return}document.body.classList.add("reveal-init"),e.forEach((r,n)=>{r.style.setProperty("--reveal-order",String(n%5))});const t=new IntersectionObserver((r,n)=>{r.forEach(s=>{s.isIntersecting&&(s.target.classList.add("is-visible"),n.unobserve(s.target))})},{threshold:.15,rootMargin:"0px 0px -8% 0px"});e.forEach(r=>{r.getBoundingClientRect().top<=window.innerHeight*.92&&r.classList.add("is-visible"),t.observe(r)})},Be=()=>{O.matches||!ne.matches||h(".tilt-card").forEach(e=>{let t=0;const r=o=>{const c=e.getBoundingClientRect();if(!c.width||!c.height)return;const a=o.clientX-c.left,l=o.clientY-c.top,u=Math.min(Math.max(a/c.width,0),1),m=Math.min(Math.max(l/c.height,0),1),d=(u-.5)*8,f=(.5-m)*8;e.style.setProperty("--tilt-glow-x",`${(u*100).toFixed(2)}%`),e.style.setProperty("--tilt-glow-y",`${(m*100).toFixed(2)}%`),e.style.transform=`perspective(900px) rotateX(${f.toFixed(2)}deg) rotateY(${d.toFixed(2)}deg) translateY(-3px)`,e.classList.add("is-tilting")},n=o=>{cancelAnimationFrame(t),t=requestAnimationFrame(()=>r(o))},s=()=>{cancelAnimationFrame(t),e.classList.remove("is-tilting"),e.style.transform="",e.style.removeProperty("--tilt-glow-x"),e.style.removeProperty("--tilt-glow-y")};e.addEventListener("pointermove",n),e.addEventListener("pointerleave",s),e.addEventListener("pointercancel",s)})},Te=()=>{ge(),fe(),pe(),he(),me(),Ne(),Pe(),$e(),ke(),Ae(),Ie(),Me(),Be()};Te();
